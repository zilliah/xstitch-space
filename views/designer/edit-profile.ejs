<%- include('../partials/header') -%>
    <main class="container">
        <div class="row justify-content-center">
            <section class="col-6 mt-5">
                <% if (user.designerId) { %>
                    <p>Edit your designer information:</p>
                <% } else { %>
                    <p>Add your designer information:</p>
                <% } %>
                <% if (locals.messages.errors) { %>
                    <% messages.errors.forEach( el => { %>
                        <div class="alert alert-danger"><%= el.msg %></div>
                    <% }) %>    
                <% } %>
                <% if (locals.messages.info) { %>
                    <% messages.info.forEach( el => { %>
                        <div class="alert alert-info"><%= el.msg %></div>
                    <% }) %>    
                <% } %>


                <form action="/designer/edit-profile?_method=PUT" enctype="multipart/form-data" method="POST" >
                    <!-- TODO reword this or restyle to make it more readable -->
                    <div class="alert alert-primary">
                        <p>You should add your designer info out even if you don't plan to sell patterns on X Stitch Space.</p>
                        <p> Adding your designer info will give you full control of your pattern listings on the site, and will make it easier and faster to add new patterns.</p>
                    </div>

                    <div class="mb-3">
                        <label for="des-name" class="form-label">Designer Name</label>
                        <input type="text" class="form-control" id="des-name" name="designerName" placeholder="<%= user.userName%>">
                    </div>
                    <div class="mb-3">
                        <label for="shop-link" class="form-label">Shop link</label>
                        <input type="text" class="form-control" id="shop-link" name="site" placeholder="http://my-shop-name.com">
                    </div>
                    <div class="mb-3">
                        <label for="logo" class="form-label">Upload your store logo</label>
                        <input type="file" class="form-control" name="logo" id="logo">
                    </div>
                    <div class="mb-3">
                        <label for="des-bio" class="form-label">Designer Bio</label>
                        <textarea name="designer-bio" id="des-bio" class="form-control" placeholder="I love to create full coverage landscape patterns."></textarea>
                    </div>
                    <div class="mb-3">
                        <fieldset>
                            <legend class="col-form-label">Do you want to sell patterns via X Stitch Space?</legend>
                            <label for="onsite-yes" class="form-label">Yes</label>
                            <input type="radio" class="form-check-input" id="onsite-yes" name="onsite-sell" value="true">
                            <label for="onsite-no" class="form-label">No</label>
                            <input type="radio" class="form-check-input" id="onsite-no" name="onsite-sell" value="false">
                            <label for="onsite-maybe" class="form-label">Maybe later</label>
                            <input type="radio" class="form-check-input" id="onsite-maybe" name="onsite-sell" value="false">
                        </fieldset>
                        <div class="alert alert-primary hide">
                            <p>Great! This feature is still in development, but I'll let you know when it's available.</p>
                        </div>
                        <p class="alert alert-secondary">You can change your mind at any time.</p>
                    </div>



                    <button type="submit" class="btn btn-primary">Save</button>
                    <% if (user.designerId) { %>
                        <a href="/user/profile" class="btn btn-light" role="button">Back</a>
                    <% } else { %>
                        <a href="/user/profile" class="btn btn-light" role="button">Skip for now</a>
                    <% } %>
                </form>
            </section>
        </div>
        <script src="../js/hide.js"></script>
    </main>

<%- include('../partials/footer') -%>